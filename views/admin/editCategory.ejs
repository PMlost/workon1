<div class="container">
  <h2>Edit Category</h2>

  <% if (locals.categoryMessage) { %>
  <div class="alert alert-danger" role="alert"><%= categoryMessage %></div>
  <% } %>

  <!-- Edit Category Form -->
  <form action="/admin/edit-category/<%= categoryDetail._id %>" method="POST">
    <div class="mb-3">
      <label for="categoryName" class="form-label">Category Name</label>
      <input
        type="text"
        class="form-control"
        id="categoryName"
        name="categoryName"
        value="<%= categoryDetail.name %>"
        required
      />
    </div>
    <button type="submit" class="btn btn-primary update-btn">
      Update Category
    </button>
    <a href="/admin/category" class="btn btn-secondary">Back</a>
  </form>
</div>

<script>
  const categoryNameInput = document.getElementById("categoryName");
  console.log(categoryNameInput);
  document.addEventListener("click", (e) => {
    if (e.target.matches(".update-btn")) {
      const cleanedValue = categoryNameInput.value.trim().replace(/\s+/g, "");
      const requiredValue = cleanedValue.substring(0, 15);
      console.log(cleanedValue);
      categoryNameInput.value = requiredValue;
    }
  });
</script>
